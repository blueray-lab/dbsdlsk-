<!DOCTYPE html>
<html>
<head>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ¤</text></svg>">
    <meta charset="UTF-8">
    <title>ì´ë‚˜ì˜ ì•„ì¹´ì´ë¸Œ</title>
    <style>
        /* 1. í°íŠ¸ ì„¤ì • */
        @font-face { font-family: 'Mulmaru'; src: url('Mulmaru.ttf'); }
        @font-face { font-family: '11street'; src: url('11street.ttf'); }

        /* 2. ì „ì²´ ë””ìì¸ */
        body {
            font-family: 'Gulim', monospace; /* ê¸°ë³¸ì€ êµ´ë¦¼ */
            padding: 20px;
            background-image: url('https://i.pinimg.com/736x/a8/4e/22/a84e227c33d5e3e6a0f1295bb74f2f3e.jpg');
            background-size: cover;
            background-repeat: no-repeat;
            background-position: center;
            background-attachment: fixed;
        }

        .container { max-width: 800px; margin: 0 auto; background: white; border: 1px solid black; padding: 20px; }
        
        /* íƒ€ì´ë¨¸ ë””ìì¸ */
        .live-timer-box {
            background-color: #f0f0f0;
            border: 1px dashed black;
            padding: 10px;
            margin-bottom: 20px;
            text-align: center;
            font-family: 'Mulmaru', monospace;
            font-size: 14px;
        }

        /* ì œëª© í°íŠ¸ ì ìš© */
        h1 { font-family: 'Mulmaru'; color: #6ca0dc; text-decoration: underline; }

        /* --- âœ¨ ì‚¬ì´ë“œ íŒ¨ë„ ë””ìì¸ (ìƒˆë¡œ ì¶”ê°€ë¨!) âœ¨ --- */
        #side-panel {
            position: fixed; top: 0; right: -600px; width: 500px; height: 100%;
            background: white; box-shadow: -5px 0 15px rgba(0,0,0,0.1);
            transition: right 0.4s ease; z-index: 1000; padding: 30px;
            overflow-y: auto; box-sizing: border-box; font-family: '11street'; /* ë‚´ìš©ì€ 11ë²ˆê°€ì²´ */
        }
        #side-panel.open { right: 0; } /* ì—´ë ¤ë¼ ì°¸ê¹¨ */
        #close-btn {
            position: absolute; top: 20px; right: 20px;
            border: none; background: none; font-size: 20px; cursor: pointer;
        }
        
        /* ë¦¬ìŠ¤íŠ¸ ì•„ì´í…œ (í´ë¦­ ê°€ëŠ¥í•˜ê²Œ) */
        .list-item { 
            cursor: pointer; transition: 0.2s; border: 1px solid black; 
            margin-bottom: 15px; background: white;
        }
        .list-item:hover { transform: translateX(5px); background-color: #f9f9f9; }
        
        .post-header { background-color: #FFFF00; border-bottom: 1px solid black; padding: 5px 10px; display: flex; justify-content: space-between; font-weight: bold; }
        /* ----------------------------------------------- */
    </style>
</head>
<body>

    <div class="container">
        <h1>ìš°ë¦¬ ê°™ì€ ì¢…ë¥˜ì˜ ì¸ê°„ì€ í‰ìƒ ê²°ì½” ì–´ë¥¸ì´ ë˜ì§€ ëª»í•œë‹¤</h1>
        <p>Inspired by. ì‹ ì¸ì•„, made by. ìœ¤ì´ë‚˜</p>
        
        <div class="live-timer-box">
            ğŸŒ ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” ì§€êµ¬ë³„ì„ ì—¬í–‰í•œì§€ ì–´ì—¿ <span id="life-clock" style="color:#005eff; font-weight:bold;">ê³„ì‚° ì¤‘...</span> ì§¸ ì…ë‹ˆë‹¤! <br>
            ë‹¹ì‹ ì˜ ì—¬ì •ì€ ì•ˆë…•í•˜ì‹­ë‹ˆê¹Œ?
        </div>
        
        <div id="content-list">Loading...</div>
    </div>

    <div id="side-panel">
        <button id="close-btn" onclick="closePanel()">âœ– ë‹«ê¸°</button>
        <div id="panel-content"></div>
    </div>

    <script>
        const sheetUrl = "https://docs.google.com/spreadsheets/d/e/2PACX-1vQWjp8QuotjjpsrNpjq-f4s5M_YZN-DWW8GXmq2Dz6hNBIQ0dNtk_84ZUUVfO9L-RMN2YxNsc0mheKZ/pub?gid=0&single=true&output=csv"; 

        fetch(sheetUrl)
        .then(res => res.text())
        .then(text => {
            const rows = text.split('\n').slice(1);
            const container = document.getElementById('content-list');
            container.innerHTML = '';

            rows.forEach(row => {
                const cols = row.split(',');
                if(cols.length < 3) return;

                const date = cols[0];
                const title = cols[1];
                const content = cols[2];
                const tags = cols[3];
                const imageSrc = cols[4] ? cols[4].trim() : ''; // ì‚¬ì§„ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°

                // ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸° (ì œëª©ë§Œ ë³´ì—¬ì¤Œ)
                const div = document.createElement('div');
                div.className = "list-item";
                div.innerHTML = `
                    <div class="post-header">
                        <span>â— ${title}</span>
                        <span style="font-size:0.8em;">${date}</span>
                    </div>
                    <div style="padding:15px; color:#666; font-size:0.9em; font-family:'11street';">
                        í´ë¦­í•´ì„œ ë‚´ìš© ë³´ê¸°...
                    </div>
                `;

                // í´ë¦­í•˜ë©´ íŒ¨ë„ ì—´ê¸°!
                div.onclick = function() {
                    openPanel(title, date, content, tags, imageSrc);
                };
 
                container.appendChild(div);
            });
        });

        // ğŸŸ¢ íŒ¨ë„ ì—´ê¸° í•¨ìˆ˜
        function openPanel(title, date, content, tags, imageSrc) {
            const panel = document.getElementById('side-panel');
            const panelContent = document.getElementById('panel-content');

            let html = `
                <h2 style="font-family:'Mulmaru'; color:blue; border-bottom:2px solid blue; padding-bottom:10px;">${title}</h2>
                <p style="color:#888; font-size:0.8em; margin-bottom:20px;">${date}</p>
            `;

            if(imageSrc) { // ì‚¬ì§„ ìˆìœ¼ë©´ ë³´ì—¬ì£¼ê¸°
                html += `<img src="${imageSrc}" style="width:100%; margin-bottom:20px; border:1px solid #ddd;">`;
            }

            html += `
                <div style="line-height:1.6; white-space: pre-wrap; margin-bottom:30px;">${content}</div>
                <div class="tags" style="background:#f0f0f0;"># ${tags}</div>
            `;

            panelContent.innerHTML = html;
            panel.classList.add('open');
        }

        // ğŸ”´ íŒ¨ë„ ë‹«ê¸° í•¨ìˆ˜
        function closePanel() {
            document.getElementById('side-panel').classList.remove('open');
        }

        // ğŸ‘‡ ì‹¤ì‹œê°„ ë‚˜ì´ ì¹´ìš´í„°
        function updateLifeClock() {
            const birthDate = new Date("2007-12-20T13:53:00");
            const now = new Date();
            const diff = now - birthDate;

            const years = Math.floor(diff / (1000 * 60 * 60 * 24 * 365.25));
            const days = Math.floor((diff % (1000 * 60 * 60 * 24 * 365.25)) / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            const clockElement = document.getElementById("life-clock");
            if(clockElement) {
                clockElement.innerText = `${years}ë…„ ${days}ì¼ ${hours}ì‹œê°„ ${minutes}ë¶„ ${seconds}ì´ˆ`;
            }
        }
        setInterval(updateLifeClock, 1000);
        updateLifeClock();
    </script>

</body>
</html>
